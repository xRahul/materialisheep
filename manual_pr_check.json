{"comments":[{"id":"IC_kwDOQBDOvc7c_MVw","author":{"login":"sourcery-ai"},"authorAssociation":"NONE","body":"<!-- Generated by sourcery-ai[bot]: start review_guide -->\n\n## Reviewer's Guide\n\nMigrates core data and infrastructure components from RxJava 1 to RxJava 3, updates Retrofit integration and schedulers, and tightens null-handling in a few flows while keeping existing behavior and public APIs largely intact.\n\n#### Class diagram for updated RxJava3-based data layer components\n\n```mermaid\nclassDiagram\n    direction LR\n\n    class RestServiceFactory {\n        <<interface>>\n        +String CACHE_CONTROL_FORCE_NETWORK\n        +String CACHE_CONTROL_MAX_AGE_30M\n        +boolean rxEnabled(boolean enabled)\n        +~<T> T create(String baseUrl, Class clazz)\n        +~<T> T create(String baseUrl, Class clazz, Executor callbackExecutor)\n    }\n\n    class RestServiceFactory_Impl {\n        -Call.Factory mCallFactory\n        -boolean mRxEnabled\n        +RestServiceFactory_Impl(Call.Factory callFactory)\n        +RestServiceFactory_Impl rxEnabled(boolean enabled)\n        +~<T> T create(String baseUrl, Class clazz)\n        +~<T> T create(String baseUrl, Class clazz, Executor callbackExecutor)\n    }\n\n    class RxJava3CallAdapterFactory {\n        +static RxJava3CallAdapterFactory createWithScheduler(Scheduler scheduler)\n    }\n\n    class HackerNewsClient {\n        -RestService mRestService\n        -SessionManager mSessionManager\n        -FavoriteManager mFavoriteManager\n        @Named_IO_THREAD Scheduler mIoScheduler\n        @Named_MAIN_THREAD Scheduler mMainThreadScheduler\n        +HackerNewsClient(RestServiceFactory factory, SessionManager sessionManager, FavoriteManager favoriteManager)\n        +void getStories(String filter, int cacheMode, ResponseListener listener)\n        -Observable~Item[]~ getStoriesObservable(String filter, int cacheMode)\n        -Call~int[]~ getStoriesCall(String filter, int cacheMode)\n        -HackerNewsItem[] toItems(int[] ids)\n    }\n\n    class FavoriteManager {\n        -Scheduler ioScheduler\n        +FavoriteManager(Context context, Scheduler ioScheduler)\n        +void export(Context context, String query)\n        +void clear(Context context, String query)\n        +void remove(Context context, Collection~String~ itemIds)\n        +void check(Context context, String itemId, LocalItemManager.Observer observer)\n    }\n\n    class FavoriteManager_Exporter {\n        +export(Context context, String query)\n    }\n\n    class Cache {\n        -MaterialisticDatabase database\n        -MaterialisticDatabase.ReadStoriesDao readStoriesDao\n        -Scheduler ioScheduler\n        +Cache(MaterialisticDatabase.SavedStoriesDao savedStoriesDao, MaterialisticDatabase.ReadStoriesDao readStoriesDao, MaterialisticDatabase database, Scheduler ioScheduler)\n        +boolean isViewed(String itemId)\n        +void setViewed(String itemId)\n    }\n\n    class ReadabilityClient_Impl {\n        -Context mContext\n        -String mReadabilityJs\n        +void parse(String itemId, String url, Callback callback)\n        +Observable~String~ fromCache(String itemId)\n        +Observable~String~ fromNetwork(String itemId, String url)\n    }\n\n    class UserServicesClient {\n        -Call.Factory callFactory\n        -Scheduler ioScheduler\n        +UserServicesClient(Call.Factory callFactory, Scheduler ioScheduler)\n        +void reply(Context context, String parentId, String text, Callback callback)\n        +void submit(Context context, String title, String content, boolean isUrl, Callback callback)\n    }\n\n    class AdBlocker {\n        -Scheduler ioScheduler\n        +AdBlocker(Context context, Scheduler ioScheduler)\n    }\n\n    class DataModule {\n        +ItemManager provideHackerNewsClient(HackerNewsClient client)\n        +ItemManager provideAlgoliaClient(AlgoliaClient client)\n        +ItemManager provideAlgoliaPopularClient(AlgoliaPopularClient client)\n        +UserManager provideUserManager(HackerNewsClient client)\n        +FeedbackClient provideFeedbackClient(FeedbackClient_Impl client)\n        +ReadabilityClient provideReadabilityClient(ReadabilityClient_Impl client)\n        +UserServices provideUserServices(Call.Factory callFactory, Scheduler ioScheduler)\n        +@Named_IO_THREAD Scheduler provideIoScheduler()\n        +@Named_MAIN_THREAD Scheduler provideMainThreadScheduler()\n        +SyncScheduler provideSyncScheduler()\n        +LocalCache provideLocalCache(Cache cache)\n        +MaterialisticDatabase provideDatabase(Context context)\n    }\n\n    RestServiceFactory <|.. RestServiceFactory_Impl\n    RestServiceFactory_Impl ..> RxJava3CallAdapterFactory : uses\n\n    DataModule ..> HackerNewsClient : provides\n    DataModule ..> AlgoliaClient : provides\n    DataModule ..> AlgoliaPopularClient : provides\n    DataModule ..> UserServicesClient : provides\n    DataModule ..> FeedbackClient_Impl : provides\n    DataModule ..> ReadabilityClient_Impl : provides\n    DataModule ..> Cache : provides\n\n    HackerNewsClient --> RestServiceFactory : constructs RestService\n    HackerNewsClient --> FavoriteManager\n    HackerNewsClient --> SessionManager\n\n    FavoriteManager --> Scheduler : ioScheduler\n    Cache --> Scheduler : ioScheduler\n    ReadabilityClient_Impl --> Observable\n    FavoriteManager --> Observable\n    UserServicesClient --> Observable\n    AdBlocker --> Observable\n\n    class Observable {\n        <<RxJava3 Observable>>\n    }\n\n    class Scheduler {\n        <<RxJava3 Scheduler>>\n    }\n```\n\n### File-Level Changes\n\n| Change | Details | Files |\n| ------ | ------- | ----- |\n| Switch reactive dependencies and Retrofit adapter from RxJava 1 to RxJava 3 and update factory integration. | <ul><li>Replace rxjava1/ rxandroid dependencies with io.reactivex.rxjava3 equivalents in Gradle.</li><li>Swap Retrofit RxJava call adapter to RxJava3 adapter and update RestServiceFactory to use RxJava3CallAdapterFactory.</li><li>Ensure Retrofit call adapter is configured with io() scheduler and main-thread callback executor as before.</li></ul> | `app/build.gradle`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/MaterialisticApplication.java` |\n| Update Java/Kotlin data-layer classes to use RxJava 3 APIs and null-safety semantics. | <ul><li>Change imports from rx.* to io.reactivex.rxjava3.* for Observable, Scheduler, AndroidSchedulers, and Schedulers.</li><li>Adjust operator signatures to RxJava3 (e.g., onErrorResumeNext with Function<Throwable, Observable>, Observable.create emitter API, trampoline scheduler instead of immediate).</li><li>Update ad blocker, cache, session, and favorite manager flows to use RxJava 3 Observable/iteration patterns (e.g., fromIterable instead of from).</li></ul> | `app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java` |\n| Refine data client behavior and null-handling while keeping external behavior stable. | <ul><li>In HackerNewsClient, change cachedItemRx fallback to use a lambda-compatible onErrorResumeNext and format chained ternaries for readability.</li><li>Ensure getStoriesCall and getStoriesObservable branches are functionally equivalent while improving formatting.</li><li>Change HackerNewsItem[] conversion to return an empty array instead of null when ids is null to better satisfy RxJava 3 null-safety expectations.</li></ul> | `app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java` |\n| Align DI module and API classes with updated schedulers and Rx types, mainly formatting and wiring. | <ul><li>Reformat @Provides / @Singleton / @Named annotations and parameter alignment in DataModule for clarity.</li><li>Ensure IO and main-thread schedulers provided from DataModule return RxJava 3 Schedulers/AndroidSchedulers.</li><li>Minor Javadoc and parameter formatting adjustments in various clients and view models.</li></ul> | `app/src/main/java/io/github/hidroh/materialistic/DataModule.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java`<br/>`app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java` |\n\n---\n\n<details>\n<summary>Tips and commands</summary>\n\n#### Interacting with Sourcery\n\n- **Trigger a new review:** Comment `@sourcery-ai review` on the pull request.\n- **Continue discussions:** Reply directly to Sourcery's review comments.\n- **Generate a GitHub issue from a review comment:** Ask Sourcery to create an\n  issue from a review comment by replying to it. You can also reply to a\n  review comment with `@sourcery-ai issue` to create an issue from it.\n- **Generate a pull request title:** Write `@sourcery-ai` anywhere in the pull\n  request title to generate a title at any time. You can also comment\n  `@sourcery-ai title` on the pull request to (re-)generate the title at any time.\n- **Generate a pull request summary:** Write `@sourcery-ai summary` anywhere in\n  the pull request body to generate a PR summary at any time exactly where you\n  want it. You can also comment `@sourcery-ai summary` on the pull request to\n  (re-)generate the summary at any time.\n- **Generate reviewer's guide:** Comment `@sourcery-ai guide` on the pull\n  request to (re-)generate the reviewer's guide at any time.\n- **Resolve all Sourcery comments:** Comment `@sourcery-ai resolve` on the\n  pull request to resolve all Sourcery comments. Useful if you've already\n  addressed all the comments and don't want to see them anymore.\n- **Dismiss all Sourcery reviews:** Comment `@sourcery-ai dismiss` on the pull\n  request to dismiss all existing Sourcery reviews. Especially useful if you\n  want to start fresh with a new review - don't forget to comment\n  `@sourcery-ai review` to trigger a new review!\n\n#### Customizing Your Experience\n\nAccess your [dashboard](https://app.sourcery.ai) to:\n- Enable or disable review features such as the Sourcery-generated pull request\n  summary, the reviewer's guide, and others.\n- Change the review language.\n- Add, remove or edit custom review instructions.\n- Adjust other review settings.\n\n#### Getting Help\n\n- [Contact our support team](mailto:support@sourcery.ai) for questions or feedback.\n- Visit our [documentation](https://docs.sourcery.ai) for detailed guides and information.\n- Keep in touch with the Sourcery team by following us on [X/Twitter](https://x.com/SourceryAI), [LinkedIn](https://www.linkedin.com/company/sourcery-ai/) or [GitHub](https://github.com/sourcery-ai).\n\n</details>\n\n<!-- Generated by sourcery-ai[bot]: end review_guide -->","createdAt":"2026-01-04T02:37:16Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553136","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_MXG","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"<!-- This is an auto-generated comment: summarize by coderabbit.ai -->\n<!-- other_code_reviewer_warning_start -->\n\n> [!NOTE]\n> ## Other AI code review bot(s) detected\n> \n> CodeRabbit has detected other AI code review bot(s) in this pull request and will avoid duplicating their findings in the review comments. This may lead to a less comprehensive review.\n\n<!-- other_code_reviewer_warning_end -->\n\n<!-- walkthrough_start -->\n\n<details>\n<summary>üìù Walkthrough</summary>\n\n## Walkthrough\n\nThis PR comprehensively migrates the codebase from RxJava 1.x to RxJava 3.x across 15+ files, updating build dependencies, import paths, and reactive code patterns. Changes include Retrofit adapter updates, Subscriber-to-ObservableEmitter refactoring, annotation reformatting, and null-safety improvements in observable flows.\n\n## Changes\n\n| Cohort / File(s) | Summary |\n|---|---|\n| **Build & Configuration** <br> `.gitignore`, `app/build.gradle` | Added `.gemini/` and `gha-creds-*.json` ignore patterns; updated RxJava dependencies from 1.x to 3.x and Retrofit adapter from `adapter-rxjava` to `adapter-rxjava3` |\n| **Dependency Injection & DI Configuration** <br> `app/src/main/java/io/github/hidroh/materialistic/DataModule.java`, `app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java` | RxJava 3 imports; split compound annotations across multiple lines for Dagger `@Provides` methods; updated Retrofit adapter factory to `RxJava3CallAdapterFactory` with `Schedulers.io()` |\n| **Import-Only RxJava 3 Migration** <br> `app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java`, `app/src/main/java/io/github/hidroh/materialistic/ListFragment.java`, `app/src/main/java/io/github/hidroh/materialistic/MaterialisticApplication.java`, `app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java`, `app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaClient.java`, `app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaPopularClient.java`, `app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt` | RxJava package imports updated to `io.reactivex.rxjava3.*` equivalents; no logic changes |\n| **Complex RxJava 3 Refactoring & Logic Updates** <br> `app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java` | Migrated from Subscriber-based callbacks to ObservableEmitter pattern; replaced `create(subscriber)` with `create(emitter)`; updated `Schedulers.immediate()` to `Schedulers.trampoline()`; refactored cancellation and lifecycle signals for WebView emissions |\n| **RxJava 3 Migration with Error & Null Handling** <br> `app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java`, `app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java`, `app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java` | RxJava 3 imports; refactored error handling (onErrorResumeNext lambda); adjusted null handling in toItems (now returns empty array instead of null); annotation/formatting adjustments |\n| **Observable Pattern Updates & Null-Safety** <br> `app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt`, `app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt` | RxJava 3 imports; replaced `Observable.from()` with `Observable.fromIterable()` for safe iteration; added null-check guards in export/remove/setViewed flows; normalized null queries to empty strings |\n\n## Estimated code review effort\n\nüéØ 4 (Complex) | ‚è±Ô∏è ~45 minutes\n\n## Possibly related PRs\n\n- sheepdestroyer/materialistic#14: Modifies ReadabilityClient with WebView/Readability.js-based parsing flow changes overlapping with this PR's subscriber-to-emitter refactoring\n- sheepdestroyer/materialistic#13: Updates DataModule and MaterialisticApplication bootstrap/DI configuration in parallel with this PR's annotation and import changes\n\n## Suggested labels\n\n`Review effort 4/5`\n\n## Poem\n\n> üê∞ *Hops through code with glee and grace,*  \n> *RxJava Three now runs this place!*  \n> *From old subscribers, emitters bloom,*  \n> *Null-safety guards banish the gloom.* ‚ú®\n\n</details>\n\n<!-- walkthrough_end -->\n\n\n<!-- pre_merge_checks_walkthrough_start -->\n\n## Pre-merge checks and finishing touches\n<details>\n<summary>‚ùå Failed checks (1 warning)</summary>\n\n|     Check name     | Status     | Explanation                                                                           | Resolution                                                                     |\n| :----------------: | :--------- | :------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------- |\n| Docstring Coverage | ‚ö†Ô∏è Warning | Docstring coverage is 57.50% which is insufficient. The required threshold is 80.00%. | You can run `@coderabbitai generate docstrings` to improve docstring coverage. |\n\n</details>\n<details>\n<summary>‚úÖ Passed checks (2 passed)</summary>\n\n|     Check name    | Status   | Explanation                                                                                                                                                                             |\n| :---------------: | :------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n|    Title check    | ‚úÖ Passed | The title 'Migrate to RxJava 3' directly and concisely summarizes the main change across all files in the pull request: updating from RxJava 1.x to RxJava 3.x throughout the codebase. |\n| Description Check | ‚úÖ Passed | Check skipped - CodeRabbit‚Äôs high-level summary is enabled.                                                                                                                             |\n\n</details>\n\n<!-- pre_merge_checks_walkthrough_end -->\n\n<!-- finishing_touch_checkbox_start -->\n\n<details>\n<summary>‚ú® Finishing touches</summary>\n\n- [ ] <!-- {\"checkboxId\": \"7962f53c-55bc-4827-bfbf-6a18da830691\"} --> üìù Generate docstrings\n\n</details>\n\n<!-- finishing_touch_checkbox_end -->\n\n<!-- tips_start -->\n\n---\n\nThanks for using [CodeRabbit](https://coderabbit.ai?utm_source=oss&utm_medium=github&utm_campaign=sheepdestroyer/materialistic&utm_content=23)! It's free for OSS, and your support helps us grow. If you like it, consider giving us a shout-out.\n\n<details>\n<summary>‚ù§Ô∏è Share</summary>\n\n- [X](https://twitter.com/intent/tweet?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A&url=https%3A//coderabbit.ai)\n- [Mastodon](https://mastodon.social/share?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A%20https%3A%2F%2Fcoderabbit.ai)\n- [Reddit](https://www.reddit.com/submit?title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&text=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code.%20Check%20it%20out%3A%20https%3A//coderabbit.ai)\n- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcoderabbit.ai&mini=true&title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&summary=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code)\n\n</details>\n\n<sub>Comment `@coderabbitai help` to get the list of available commands and usage tips.</sub>\n\n<!-- tips_end -->\n\n<!-- internal state start -->\n\n\n<!-- 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 -->\n\n<!-- internal state end -->","createdAt":"2026-01-04T02:37:25Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553222","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_MYh","author":{"login":"gemini-code-assist"},"authorAssociation":"NONE","body":"## Summary of Changes\n\nHello @sheepdestroyer, I'm Gemini Code Assist[^1]! I'm currently reviewing this pull request and will post my feedback shortly. In the meantime, here's a summary to help you and other reviewers quickly get up to speed!\n\nThis pull request completes a significant technical upgrade by migrating the entire application's reactive programming framework from RxJava 1.x to RxJava 3.x. This change impacts various layers of the application, from dependency management and data handling to UI logic, ensuring compatibility with modern Android development practices and improving overall code robustness through enhanced null-safety and updated APIs.\n\n### Highlights\n\n* **RxJava 3 Migration**: The project has been fully migrated from RxJava 1.x to RxJava 3.x, updating core data layer components, UI view models, and configuration to leverage the new version's features and null-safety requirements.\n* **Dependency Updates**: The `app/build.gradle` file has been updated to include `io.reactivex.rxjava3:rxandroid:3.0.2` and `io.reactivex.rxjava3:rxjava:3.1.8`, along with `com.squareup.retrofit2:adapter-rxjava3` for Retrofit integration.\n* **Codebase Refactoring**: Numerous Java and Kotlin files have been refactored to use RxJava 3 imports and updated API calls, including changes from `rx.Observable` to `io.reactivex.rxjava3.core.Observable`, `rx.Scheduler` to `io.reactivex.rxjava3.core.Scheduler`, and adjustments for null-safety in Kotlin files.\n* **Operator and Scheduler Adjustments**: Specific RxJava operator usages have been updated, such as `Observable.from` to `Observable.fromIterable`, `onErrorResumeNext` lambda syntax, and `Schedulers.immediate()` to `Schedulers.trampoline()` for testing purposes in `ReadabilityClient`.\n* **Build Configuration**: The `.gitignore` file has been updated to exclude `.gemini/` and `gha-creds-*.json` directories and files, likely related to new build or CI/CD configurations.\n\nüß† **New Feature in Public Preview:** You can now enable **Memory** to help **Gemini Code Assist** learn from your team's feedback. This makes future code reviews more consistent and personalized to your project's style. **Click [here](https://codeassist.google/code-review/login) to enable Memory in your admin console.**\n\n\n\n\n\n\n\n<details>\n<summary><b>Using Gemini Code Assist</b></summary>\n<br>\n\nThe full guide for Gemini Code Assist can be found on our [documentation page](https://developers.google.com/gemini-code-assist/docs/review-github-code), here are some quick tips.\n\n<b>Invoking Gemini</b>\n\nYou can request assistance from Gemini at any point by creating a comment using either `/gemini <command>` or `@gemini-code-assist <command>`. Below is a summary of the supported commands on the current page.\n\nFeature | Command | Description\n--- | --- | ---\nCode Review | `/gemini review` | Performs a code review for the current pull request in its current state.\nPull Request Summary | `/gemini summary` | Provides a summary of the current pull request in its current state.\nComment | @gemini-code-assist | Responds in comments when explicitly tagged, both in pull request comments and review comments.\nHelp | `/gemini help` | Displays a list of available commands.\n\n<b>Customization</b>\n\nTo customize Gemini Code Assist for GitHub experience, repository maintainers can create a configuration file and/or provide a custom code review style guide (such as PEP-8 for Python) by creating and adding files to a `.gemini/` folder in the base of the repository. Detailed instructions can be found [here](https://developers.google.com/gemini-code-assist/docs/customize-gemini-behavior-github).\n\n<b>Limitations & Feedback</b>\n\nGemini Code Assist may make mistakes. Please leave feedback on any instances where its feedback is incorrect or counter productive. You can react with :thumbsup: and :thumbsdown: on @gemini-code-assist comments. If you're interested in giving your feedback about your experience with Gemini Code Assist for Github and other Google products, sign up [here](https://google.qualtrics.com/jfe/form/SV_2cyuGuTWsEw84yG).\n\n<b>You can also get AI-powered code generation, chat, as well as code reviews directly in the IDE at no cost with the [Gemini Code Assist IDE Extension](https://cloud.google.com/products/gemini/code-assist).</b>\n</details>\n\n\n\n\n[^1]: Review the [Privacy Notices](https://policies.google.com/privacy), [Generative AI Prohibited Use Policy](https://policies.google.com/terms/generative-ai/use-policy), [Terms of Service](https://policies.google.com/terms), and learn how to configure Gemini Code Assist in GitHub [here](https://developers.google.com/gemini-code-assist/docs/customize-gemini-behavior-github). Gemini can make mistakes, so double check it and [use code with caution](https://support.google.com/legal/answer/13505487).\n","createdAt":"2026-01-04T02:37:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553313","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_MZL","author":{"login":"qodo-code-review"},"authorAssociation":"NONE","body":"## PR Compliance Guide üîç\n\n\n<!-- https://github.com/sheepdestroyer/materialistic/commit/7d17ff0e999d811695314a8b9a55eb4a7b489f09 -->\nBelow is a summary of compliance checks for this PR:<br>\n<table><tbody><tr><td colspan='2'><strong>Security Compliance</strong></td></tr>\n<tr><td rowspan=1>‚ö™</td>\n<td><details><summary><strong>Hardcoded API token\n</strong></summary><br>\n\n<b>Description:</b> The PR continues to use a static GitHub API authorization header (<code>@Headers(\"Authorization: </code><br><code>token \" + BuildConfig.GITHUB_TOKEN)</code>), which can result in sensitive credential exposure if <br><code>BuildConfig.GITHUB_TOKEN</code> is present in the shipped app or otherwise retrievable from the <br>APK.<br> <strong><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-64284d3739d46d32da72ecfcea7fbcd0172376cbae595b0befaddf45e7fed9f7R94-R96'>FeedbackClient.java [94-96]</a></strong><br>\n\n<details open><summary>Referred Code</summary>\n\n```java\n@POST(\"repos/hidroh/materialistic/issues\")\n@Headers(\"Authorization: token \" + BuildConfig.GITHUB_TOKEN)\nObservable<Object> createGithubIssue(@Body Issue issue);\n```\n\n</details></details></td></tr>\n<tr><td colspan='2'><strong>Ticket Compliance</strong></td></tr>\n<tr><td>‚ö™</td><td><details><summary>üé´ <strong>No ticket provided </strong></summary>\n\n\n- [ ] Create ticket/issue <!-- /create_ticket --create_ticket=true -->\n\n</details></td></tr>\n<tr><td colspan='2'><strong>Codebase Duplication Compliance</strong></td></tr>\n<tr><td>‚ö™</td><td><details><summary><strong>Codebase context is not defined </strong></summary>\n\n\nFollow the <a href='https://qodo-merge-docs.qodo.ai/core-abilities/rag_context_enrichment/'>guide</a> to enable codebase context checks.\n\n</details></td></tr>\n<tr><td colspan='2'><strong>Custom Compliance</strong></td></tr>\n<tr><td rowspan=3>üü¢</td><td>\n<details><summary><strong>Generic: Comprehensive Audit Trails</strong></summary><br>\n\n**Objective:** To create a detailed and reliable record of critical system actions for security analysis <br>and compliance.<br>\n\n**Status:** Passed<br>\n\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n<tr><td>\n<details><summary><strong>Generic: Meaningful Naming and Self-Documenting Code</strong></summary><br>\n\n**Objective:** Ensure all identifiers clearly express their purpose and intent, making code <br>self-documenting<br>\n\n**Status:** Passed<br>\n\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n<tr><td>\n<details><summary><strong>Generic: Security-First Input Validation and Data Handling</strong></summary><br>\n\n**Objective:** Ensure all data inputs are validated, sanitized, and handled securely to prevent <br>vulnerabilities<br>\n\n**Status:** Passed<br>\n\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n<tr><td rowspan=2>üî¥</td>\n<td><details>\n<summary><strong>Generic: Robust Error Handling and Edge Case Management</strong></summary><br>\n\n**Objective:** Ensure comprehensive error handling that provides meaningful context and graceful <br>degradation<br>\n\n**Status:** <br><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-f455e5d193f7edd3ddab8486d6458e1b84644af23de6231b2661abf7b3547accR185-R210'><strong>Contextless exceptions</strong></a>: The new Rx chain emits <code>new IOException()</code> in multiple branches without a message/context, <br>reducing debuggability and actionable error handling.<br>\n<details open><summary>Referred Code</summary>\n\n```java\n.flatMap(response -> response.code() != HttpURLConnection.HTTP_MOVED_TEMP ? Observable.just(response)\n        : Observable.error(new IOException()))\n.flatMap(response -> {\n    try {\n        return Observable.just(new String[] {\n                response.header(HEADER_SET_COOKIE),\n                response.body().string()\n        });\n    } catch (IOException e) {\n        return Observable.error(e);\n    } finally {\n        response.close();\n    }\n})\n.map(array -> {\n    array[1] = getInputValue(array[1], SUBMIT_PARAM_FNID);\n    return array;\n})\n.flatMap(array -> !TextUtils.isEmpty(array[1]) ? Observable.just(array)\n        : Observable.error(new IOException()))\n.flatMap(array -> execute(postSubmit(title, content, isUrl, array[0], array[1])))\n\n\n ... (clipped 5 lines)\n```\n\n</details>\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n<tr><td><details>\n<summary><strong>Generic: Secure Logging Practices</strong></summary><br>\n\n**Objective:** To ensure logs are useful for debugging and auditing without exposing sensitive <br>information like PII, PHI, or cardholder data.<br>\n\n**Status:** <br><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-8bf801fc34eb97dd91da2951a6e44fedef45a279443fda546495240a05c750a0R120-R123'><strong>URL logged verbatim</strong></a>: The new error logging includes the full <code>url</code> string, which may contain sensitive query <br>parameters or identifiers and should be sanitized/redacted before logging.<br>\n<details open><summary>Referred Code</summary>\n\n```java\n.subscribe(callback::onResponse, throwable -> {\n    android.util.Log.e(\"ReadabilityClient\", \"Failed to parse \" + url, throwable);\n    callback.onResponse(null);\n});\n```\n\n</details>\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n<tr><td rowspan=1>‚ö™</td>\n<td><details>\n<summary><strong>Generic: Secure Error Handling</strong></summary><br>\n\n**Objective:** To prevent the leakage of sensitive system information through error messages while <br>providing sufficient detail for internal debugging.<br>\n\n**Status:** <br><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-f455e5d193f7edd3ddab8486d6458e1b84644af23de6231b2661abf7b3547accR206-R212'><strong>User-visible errors</strong></a>: The updated submit flow can surface exceptions (e.g., from <code>buildException(uri)</code> / generic <br><code>IOException</code>) to <code>callback::onError</code>, but it is unclear from the diff whether these errors <br>are shown to end-users without sanitization.<br>\n<details open><summary>Referred Code</summary>\n\n```java\n.flatMap(response -> response.code() == HttpURLConnection.HTTP_MOVED_TEMP\n        ? Observable.just(Uri.parse(response.header(HEADER_LOCATION)))\n        : Observable.error(new IOException()))\n.flatMap(uri -> TextUtils.equals(uri.getPath(), DEFAULT_SUBMIT_REDIRECT) ? Observable.just(true)\n        : Observable.error(buildException(uri)))\n.observeOn(AndroidSchedulers.mainThread())\n.subscribe(callback::onDone, callback::onError);\n```\n\n</details>\n\n> Learn more about managing compliance <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#configuration-options'>generic rules</a> or creating your own <a href='https://qodo-merge-docs.qodo.ai/tools/compliance/#custom-compliance'>custom rules</a>\n</details></td></tr>\n\n<tr><td align=\"center\" colspan=\"2\">\n\n<!-- placeholder --> <!-- /compliance --update_compliance=true -->\n\n</td></tr></tbody></table>\n<details><summary>Compliance status legend</summary>\nüü¢ - Fully Compliant<br>\nüü° - Partial Compliant<br>\nüî¥ - Not Compliant<br>\n‚ö™ - Requires Further Human Verification<br>\nüè∑Ô∏è - Compliance label<br>\n</details>\n","createdAt":"2026-01-04T02:37:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553355","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_MZv","author":{"login":"sheepdestroyer"},"authorAssociation":"OWNER","body":"/gemini review","createdAt":"2026-01-04T02:37:43Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553391","viewerDidAuthor":true},{"id":"IC_kwDOQBDOvc7c_MaH","author":{"login":"sheepdestroyer"},"authorAssociation":"OWNER","body":"@coderabbitai review","createdAt":"2026-01-04T02:37:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"EYES","users":{"totalCount":1}}],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553415","viewerDidAuthor":true},{"id":"IC_kwDOQBDOvc7c_MaT","author":{"login":"sheepdestroyer"},"authorAssociation":"OWNER","body":"@sourcery-ai review","createdAt":"2026-01-04T02:37:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"EYES","users":{"totalCount":1}}],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553427","viewerDidAuthor":true},{"id":"IC_kwDOQBDOvc7c_Mad","author":{"login":"sheepdestroyer"},"authorAssociation":"OWNER","body":"/review","createdAt":"2026-01-04T02:37:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"EYES","users":{"totalCount":1}}],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553437","viewerDidAuthor":true},{"id":"IC_kwDOQBDOvc7c_Mam","author":{"login":"sheepdestroyer"},"authorAssociation":"OWNER","body":"@ellipsis review this","createdAt":"2026-01-04T02:37:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"EYES","users":{"totalCount":1}}],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553446","viewerDidAuthor":true},{"id":"IC_kwDOQBDOvc7c_Ma2","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"<!-- This is an auto-generated reply by CodeRabbit -->\n<details>\n<summary>‚úÖ Actions performed</summary>\n\nReview triggered.\n\n> Note: CodeRabbit is an incremental review system and does not re-review already reviewed commits. This command is applicable only when automatic reviews are paused.\n\n</details>","createdAt":"2026-01-04T02:37:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553462","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_Ma9","author":{"login":"sourcery-ai"},"authorAssociation":"NONE","body":"Sorry @sheepdestroyer, you have reached your weekly rate limit of 500000 diff characters.\n\nPlease try again later or [upgrade](https://app.sourcery.ai/login?connection=github&git_namespace_id=1377479&utm_source=github&utm_medium=bot&utm_campaign=rate_limited) to continue using Sourcery","createdAt":"2026-01-04T02:37:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553469","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_Mdm","author":{"login":"qodo-code-review"},"authorAssociation":"NONE","body":"## PR Reviewer Guide üîç\n\nHere are some key observations to aid the review process:\n\n<table>\n<tr><td>‚è±Ô∏è&nbsp;<strong>Estimated effort to review</strong>: 4 üîµüîµüîµüîµ‚ö™</td></tr>\n<tr><td>üß™&nbsp;<strong>No relevant tests</strong></td></tr>\n<tr><td>üîí&nbsp;<strong>Security concerns</strong><br><br>\n\n<strong>Sensitive information exposure:</strong><br> `FeedbackClient` sends GitHub issues using an `Authorization` header built from `BuildConfig.GITHUB_TOKEN`. If this token is a real secret shipped in the client APK, it can be extracted and abused (anyone can file issues / act as the token owner within its scopes). Consider moving this to a backend proxy, using a less sensitive auth mechanism, or ensuring the token is not embedded in release builds.</td></tr>\n<tr><td>‚ö°&nbsp;<strong>Recommended focus areas for review</strong><br><br>\n\n<details><summary><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-8bf801fc34eb97dd91da2951a6e44fedef45a279443fda546495240a05c750a0R115-R190'><strong>Null Emissions</strong></a>\n\nRxJava 3 disallows emitting `null`, but the new `Observable.create(...)` path appears to call `onNext(null)` in multiple branches (e.g., when `mReadabilityJs` is null or when a WebView error occurs). This can crash at runtime and should be refactored to avoid `null` emissions (e.g., use `Maybe<String>`, `Optional`/wrapper, `onComplete()` without value, or emit empty string/sentinel).\n</summary>\n\n```java\npublic void parse(String itemId, String url, Callback callback) {\n    Observable.defer(() -> fromCache(itemId))\n            .subscribeOn(mIoScheduler)\n            .flatMap(content -> content != null ? Observable.just(content) : fromNetwork(itemId, url))\n            .observeOn(mMainThreadScheduler)\n            .subscribe(callback::onResponse, throwable -> {\n                android.util.Log.e(\"ReadabilityClient\", \"Failed to parse \" + url, throwable);\n                callback.onResponse(null);\n            });\n}\n\n@WorkerThread\n@Override\npublic void parse(String itemId, String url) {\n    Observable.defer(() -> fromCache(itemId))\n            .subscribeOn(Schedulers.trampoline())\n            .switchIfEmpty(fromNetwork(itemId, url))\n            .observeOn(Schedulers.trampoline())\n            .subscribe();\n}\n\n@NonNull\nprivate Observable<String> fromNetwork(String itemId, String url) {\n    return Observable.<String>create(emitter -> new Handler(Looper.getMainLooper()).post(() -> {\n        WebView webView = new WebView(mContext);\n        emitter.setCancellable(() -> AndroidSchedulers.mainThread()\n                .createWorker().schedule(webView::destroy));\n        final AtomicBoolean isFinished = new AtomicBoolean(false);\n        webView.setWebViewClient(new WebViewClient() {\n            @Override\n            public void onPageFinished(WebView view, String url) {\n                super.onPageFinished(view, url);\n                if (mReadabilityJs == null) {\n                    if (isFinished.compareAndSet(false, true)) {\n                        emitter.onNext(null);\n                        emitter.onComplete();\n                    }\n                    return;\n                }\n                String script = mReadabilityJs + \"; new Readability(document).parse();\";\n                view.evaluateJavascript(script, value -> {\n                    if (isFinished.compareAndSet(false, true)) {\n                        String content = null;\n                        if (value != null && !value.equalsIgnoreCase(\"null\")) {\n                            try {\n                                JSONObject json = new JSONObject(value);\n                                content = json.getString(\"content\");\n                                mCache.putReadability(itemId, content);\n                            } catch (JSONException e) {\n                                Log.w(\"ReadabilityClient\", \"Failed to parse Readability output\", e);\n                                // content will be null\n                            }\n                        }\n                        emitter.onNext(content);\n                        emitter.onComplete();\n                    }\n                });\n            }\n\n            @SuppressWarnings(\"deprecation\")\n            @Override\n            public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n                super.onReceivedError(view, errorCode, description, failingUrl);\n                if (url.equals(failingUrl) && isFinished.compareAndSet(false, true)) {\n                    emitter.onNext(null);\n                    emitter.onComplete();\n                }\n            }\n\n            @Override\n            public void onReceivedError(WebView view, WebResourceRequest request, WebResourceError error) {\n                super.onReceivedError(view, request, error);\n                if (request.isForMainFrame() && isFinished.compareAndSet(false, true)) {\n                    emitter.onNext(null);\n                    emitter.onComplete();\n                }\n```\n\n</details>\n\n<details><summary><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-358f0b1c02fdc30df88dbc0620812f6ff04f6d0d4d7ac804639f1562d8065e4bR240-R247'><strong>Behavior Change</strong></a>\n\n`toItems(int[] ids)` now returns an empty array when `ids` is null instead of returning null. This is likely an improvement, but it is a behavior change that could affect downstream logic that previously distinguished between null vs empty results (e.g., ‚Äúno data‚Äù vs ‚Äúempty list‚Äù), so call sites should be validated.\n</summary>\n\n```java\nprivate HackerNewsItem[] toItems(int[] ids) {\n    if (ids == null) {\n        return new HackerNewsItem[0];\n    }\n    HackerNewsItem[] items = new HackerNewsItem[ids.length];\n    for (int i = 0; i < items.length; i++) {\n        HackerNewsItem item = new HackerNewsItem(ids[i]);\n        item.rank = i + 1;\n```\n\n</details>\n\n<details><summary><a href='https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-6d2f1d8ecd9ce0614c279fe57ae576c57cf812401f168763b04693d6245c4a77R103-R116'><strong>Threading Semantics</strong></a>\n\nThe Retrofit Rx adapter is now created with `RxJava3CallAdapterFactory.createWithScheduler(Schedulers.io())`, which forces subscription on IO for all Rx-enabled services. This can subtly change threading expectations for existing callers (especially tests or callers that relied on subscribing on a specific scheduler). Validate that call sites still apply intended schedulers and that tests remain deterministic.\n</summary>\n\n```java\npublic <T> T create(String baseUrl, Class<T> clazz) {\n    return create(baseUrl, clazz, null);\n}\n\n@Override\npublic <T> T create(String baseUrl, Class<T> clazz, Executor callbackExecutor) {\n    Retrofit.Builder builder = new Retrofit.Builder();\n    if (mRxEnabled) {\n        builder.addCallAdapterFactory(RxJava3CallAdapterFactory\n                .createWithScheduler(Schedulers.io()));\n    }\n    builder.callFactory(mCallFactory)\n            .callbackExecutor(callbackExecutor != null ? callbackExecutor : new MainThreadExecutor());\n    return builder.baseUrl(baseUrl)\n```\n\n</details>\n\n</td></tr>\n</table>\n","createdAt":"2026-01-04T02:38:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707553638","viewerDidAuthor":false},{"id":"IC_kwDOQBDOvc7c_Mrw","author":{"login":"qodo-code-review"},"authorAssociation":"NONE","body":"## PR Code Suggestions ‚ú®\n\n<!-- 7d17ff0 -->\n\nExplore these optional code suggestions:\n\n<table><thead><tr><td><strong>Category</strong></td><td align=left><strong>Suggestion&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </strong></td><td align=center><strong>Impact</strong></td></tr><tbody><tr><td rowspan=2>Possible issue</td>\n<td>\n\n\n\n<details><summary>Avoid returning null in RxJava stream</summary>\n\n___\n\n**Modify the <code>toItems</code> method to return an empty array instead of <code>null</code> when the <br>input <code>ids</code> is null. This prevents a <code>NullPointerException</code> as RxJava 3 streams do <br>not allow null values.**\n\n[app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java [240-251]](https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-358f0b1c02fdc30df88dbc0620812f6ff04f6d0d4d7ac804639f1562d8065e4bR240-R251)\n\n```diff\n private HackerNewsItem[] toItems(int[] ids) {\n     if (ids == null) {\n-        return null;\n+        return new HackerNewsItem[0];\n     }\n     HackerNewsItem[] items = new HackerNewsItem[ids.length];\n     for (int i = 0; i < items.length; i++) {\n         HackerNewsItem item = new HackerNewsItem(ids[i]);\n         item.rank = i + 1;\n         items[i] = item;\n     }\n     return items;\n }\n```\n\n\n- [ ] **Apply / Chat** <!-- /improve --apply_suggestion=0 -->\n\n\n<details><summary>Suggestion importance[1-10]: 8</summary>\n\n__\n\nWhy: This suggestion correctly identifies that returning `null` in the `toItems` method will cause a `NullPointerException` in an RxJava 3 stream, and the proposed fix to return an empty array is already implemented in the PR, confirming the importance of the change.\n\n\n</details></details></td><td align=center>Medium\n\n</td></tr><tr><td>\n\n\n\n<details><summary>Close and validate HTTP response</summary>\n\n___\n\n**In the <code>flatMap</code> operator, validate that the <code>Location</code> header exists and is not <br>empty before parsing it as a <code>Uri</code>. Additionally, wrap the logic in a <br><code>try...finally</code> block to ensure the HTTP <code>response</code> is always closed, preventing <br>resource leaks.**\n\n[app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java [206-208]](https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-f455e5d193f7edd3ddab8486d6458e1b84644af23de6231b2661abf7b3547accR206-R208)\n\n```diff\n-.flatMap(response -> response.code() == HttpURLConnection.HTTP_MOVED_TEMP\n-        ? Observable.just(Uri.parse(response.header(HEADER_LOCATION)))\n-        : Observable.error(new IOException()))\n+.flatMap(response -> {\n+    try {\n+        String location = response.header(HEADER_LOCATION);\n+        if (response.code() == HttpURLConnection.HTTP_MOVED_TEMP && !TextUtils.isEmpty(location)) {\n+            return Observable.just(Uri.parse(location));\n+        } else {\n+            return Observable.error(new IOException(\"Unexpected redirect or missing Location header\"));\n+        }\n+    } finally {\n+        response.close();\n+    }\n+})\n```\n\n\n- [ ] **Apply / Chat** <!-- /improve --apply_suggestion=1 -->\n\n\n<details><summary>Suggestion importance[1-10]: 8</summary>\n\n__\n\nWhy: This suggestion correctly identifies a potential resource leak by not closing the `response` and a potential `NullPointerException` if the `Location` header is missing. The proposed change adds necessary validation and a `finally` block to ensure the response is closed, improving robustness.\n\n\n</details></details></td><td align=center>Medium\n\n</td></tr><tr><td rowspan=2>General</td>\n<td>\n\n\n\n<details><summary>Schedule cache check on IO thread</summary>\n\n___\n\n**To avoid blocking the main thread, move the <code>cache.isViewed</code> call to an IO <br>scheduler using <code>Observable.fromCallable</code> and <code>subscribeOn(ioScheduler)</code>.**\n\n[app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt [43-48]](https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-cd85dbb3fb34ae616585891ad77d08e5cb6c400fda468c8d711761c226c2c1c2R43-R48)\n\n```diff\n-fun isViewed(itemId: String?): Observable<Boolean> = Observable.just(\n-    if (itemId.isNullOrEmpty()) {\n-      false\n-    } else {\n-      cache.isViewed(itemId)\n-    })\n+fun isViewed(itemId: String?): Observable<Boolean> =\n+    Observable.fromCallable {\n+        if (itemId.isNullOrEmpty()) false else cache.isViewed(itemId)\n+    }.subscribeOn(ioScheduler)\n```\n\n\n\n`[To ensure code accuracy, apply this suggestion manually]`\n\n\n<details><summary>Suggestion importance[1-10]: 7</summary>\n\n__\n\nWhy: The suggestion correctly points out that the `@WorkerThread` annotation on `isViewed` implies a potentially blocking operation that should not run on the main thread. Moving the cache access to the IO scheduler improves responsiveness and prevents potential ANRs.\n\n\n</details></details></td><td align=center>Medium\n\n</td></tr><tr><td>\n\n\n\n<details><summary>Remove unsafe non-null assertion</summary>\n\n___\n\n**Replace the force-unwrapping of <code>itemIds!!</code> with the safer <code>itemIds.orEmpty()</code> to <br>avoid potential <code>NullPointerException</code>s.**\n\n[app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt [212]](https://github.com/sheepdestroyer/materialistic/pull/23/files#diff-8cb3749b30d234154c39ce034baa9ecbb2ee5f2a16be4a90190ccfcc5eadbae2R212-R212)\n\n```diff\n-Observable.defer { Observable.fromIterable(itemIds!!) }\n+Observable.defer { Observable.fromIterable(itemIds.orEmpty()) }\n```\n\n\n- [ ] **Apply / Chat** <!-- /improve --apply_suggestion=3 -->\n\n\n<details><summary>Suggestion importance[1-10]: 6</summary>\n\n__\n\nWhy: This suggestion improves code safety by replacing a non-null assertion (`!!`) with a safer alternative (`orEmpty()`). While the current logic makes the assertion safe, this change makes the code more robust against future modifications.\n\n\n</details></details></td><td align=center>Low\n\n</td></tr>\n<tr><td align=\"center\" colspan=\"2\">\n\n- [ ] More <!-- /improve --more_suggestions=true -->\n\n</td><td></td></tr></tbody></table>\n\n","createdAt":"2026-01-04T02:39:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/sheepdestroyer/materialistic/pull/23#issuecomment-3707554544","viewerDidAuthor":false}],"reviews":[{"id":"PRR_kwDOQBDOvc7YC5dV","author":{"login":"sourcery-ai"},"authorAssociation":"NONE","body":"Hey - I've found 1 issue, and left some high level feedback:\n\n- In `FavoriteManager.export/clear/load`, changing `Observable.defer { Observable.just(query) }` to always emit `query ?: \"\"` may alter the meaning of a `null` query (e.g., \"no filter\" vs \"empty-string filter\"); consider preserving `null` semantics if callers rely on that distinction.\n- In `HackerNewsClient.toItems`, returning an empty `HackerNewsItem[]` instead of `null` is a behavioral change; double-check all callers expect an empty array and do not use `null` as a sentinel for \"no data\" or error conditions.\n\n<details>\n<summary>Prompt for AI Agents</summary>\n\n~~~markdown\nPlease address the comments from this code review:\n\n## Overall Comments\n- In `FavoriteManager.export/clear/load`, changing `Observable.defer { Observable.just(query) }` to always emit `query ?: \"\"` may alter the meaning of a `null` query (e.g., \"no filter\" vs \"empty-string filter\"); consider preserving `null` semantics if callers rely on that distinction.\n- In `HackerNewsClient.toItems`, returning an empty `HackerNewsItem[]` instead of `null` is a behavioral change; double-check all callers expect an empty array and do not use `null` as a sentinel for \"no data\" or error conditions.\n\n## Individual Comments\n\n### Comment 1\n<location> `app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java:149-150` </location>\n<code_context>\n                             if (isFinished.compareAndSet(false, true)) {\n-                                subscriber.onNext(null);\n-                                subscriber.onCompleted();\n+                                emitter.onNext(null);\n+                                emitter.onComplete();\n                             }\n                             return;\n</code_context>\n\n<issue_to_address>\n**issue (bug_risk):** Emitting `null` into an RxJava 3 `Observable` will crash at runtime.\n\nRxJava 3 disallows `null` emissions (`onNext(null)` throws `NullPointerException`), so this pattern will start crashing once fully migrated. Instead of using `null` as a sentinel, consider either:\n\n* wrapping the value, e.g. `Observable<Optional<String>>`,\n* signaling \"no content\" via `onComplete()` and treating an empty stream as failure/no-content, or\n* introducing a dedicated result type, e.g. `Observable<ReadabilityResult>` with explicit success/error/no-content.\n\nThe same `onNext(null)` usage in the other WebView client branches (error callbacks) should be updated similarly.\n</issue_to_address>\n~~~\n\n</details>\n\n***\n\n<details>\n<summary>Sourcery is free for open source - if you like our reviews please consider sharing them ‚ú®</summary>\n\n- [X](https://twitter.com/intent/tweet?text=I%20just%20got%20an%20instant%20code%20review%20from%20%40SourceryAI%2C%20and%20it%20was%20brilliant%21%20It%27s%20free%20for%20open%20source%20and%20has%20a%20free%20trial%20for%20private%20code.%20Check%20it%20out%20https%3A//sourcery.ai)\n- [Mastodon](https://mastodon.social/share?text=I%20just%20got%20an%20instant%20code%20review%20from%20%40SourceryAI%2C%20and%20it%20was%20brilliant%21%20It%27s%20free%20for%20open%20source%20and%20has%20a%20free%20trial%20for%20private%20code.%20Check%20it%20out%20https%3A//sourcery.ai)\n- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https://sourcery.ai)\n- [Facebook](https://www.facebook.com/sharer/sharer.php?u=https://sourcery.ai)\n\n</details>\n\n<sub>\nHelp me be more useful! Please click üëç or üëé on each comment and I'll use the feedback to improve your reviews.\n</sub>","submittedAt":"2026-01-04T02:38:38Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}},{"id":"PRR_kwDOQBDOvc7YC5ee","author":{"login":"ellipsis-dev"},"authorAssociation":"NONE","body":"> [!IMPORTANT]\n> **Looks good to me!  :+1:**\n> <details>\n> <summary>Reviewed everything up to 7d17ff0e999d811695314a8b9a55eb4a7b489f09 in <ellipsistime>1 minute and 43 seconds</ellipsistime>. Click for details.</summary> \n> \n> - Reviewed `879` lines of code in `16` files\n> - Skipped `1` files when reviewing.\n> - Skipped posting `6` draft comments. View those below.\n> - Modify your [settings](https://app.ellipsis.dev/sheepdestroyer/settings/code-review) and [rules](https://app.ellipsis.dev/sheepdestroyer/code-review/rules) to customize what types of comments Ellipsis leaves. And don't forget to react with :+1: or :-1: to teach Ellipsis.\n> \n> <details>\n> <summary>1. <code>app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java:172</code></summary>\n> \n> - **Draft comment:** \n> In the submit chain, raw IOExceptions are thrown without descriptive messages. Consider adding detailed error messages to ease debugging.\n> - **Reason this comment was not posted:**\n> Comment was on unchanged code.\n> \n> \n> </details>\n> \n> <details>\n> <summary>2. <code>app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java:238</code></summary>\n> \n> - **Draft comment:** \n> Returning an empty array instead of null improves null-safety. Verify downstream consumers behave correctly with an empty array.\n> - **Reason this comment was not posted:**\n> Comment was not on a location in the diff, so it can't be submitted as a review comment.\n> \n> \n> </details>\n> \n> <details>\n> <summary>3. <code>app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt:152</code></summary>\n> \n> - **Draft comment:** \n> In the export method, the change to produce a list and notify only the first URI is a design change. Confirm that returning only the first export URI is intended.\n> - **Reason this comment was not posted:**\n> Decided after close inspection that this draft comment was likely wrong and/or not actionable: usefulness confidence = 10% vs. threshold = 50% The comment explicitly asks to \"Confirm that returning only the first export URI is intended.\" This is a textbook example of asking the PR author to confirm their intention, which violates the rules. The change appears to be refactoring the code to use a list structure but ultimately still only uses one URI (via firstOrNull()). While this might seem like an odd design choice, the comment doesn't point out a clear bug - it just asks for confirmation. According to the rules, I should delete comments that ask the PR author to confirm, verify, or ensure things. Perhaps the comment is trying to highlight that this is a potentially problematic design change where the list structure is unnecessary overhead if only one URI is ever used. Maybe there's a legitimate concern about whether multiple URIs should be handled differently. Even if there's a design concern, the comment doesn't provide actionable feedback or clearly identify a bug. It only asks for confirmation of intent, which is explicitly prohibited by the rules. If the tool thought this was a problem, it should have stated what the problem is, not asked the author to confirm. This comment should be deleted because it asks the PR author to confirm their intention rather than pointing out a clear issue or providing actionable feedback. It violates the rule against asking authors to verify or confirm things.\n> \n> \n> </details>\n> \n> <details>\n> <summary>4. <code>app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java:129</code></summary>\n> \n> - **Draft comment:** \n> Replacing Schedulers.immediate with Schedulers.trampoline() is necessary in RxJava3. Double-check that synchronous execution via trampoline is appropriate in production flows.\n> - **Reason this comment was not posted:**\n> Comment did not seem useful. Confidence is useful = `0%` <= threshold `50%` The comment suggests replacing `Schedulers.immediate` with `Schedulers.trampoline()` and asks to double-check if synchronous execution via `trampoline` is appropriate in production flows. This violates the rule against asking the PR author to double-check things or ensure behavior is intended. The comment does not provide a specific code suggestion or ask for a specific test to be written.\n> \n> \n> </details>\n> \n> <details>\n> <summary>5. <code>app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java:107</code></summary>\n> \n> - **Draft comment:** \n> The RxJava3 call adapter setup with a fallback to MainThreadExecutor appears correct. Ensure the chosen executor meets all callback threading needs.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `50%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>6. <code>General:1</code></summary>\n> \n> - **Draft comment:** \n> Overall, the migration from RxJava1 to RxJava3 is well executed with proper package replacements and operator adjustments. Review integration tests to ensure all reactive chains behave as expected.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> \n> Workflow ID: <workflowid>`wflow_HeiAJl2o2GfQdEs0`</workflowid>\n> </details>\n> \n> <sup>You can customize </sup>[<img alt=\"Ellipsis\" src=\"https://img.shields.io/badge/Ellipsis-blue?color=175173\">](https://www.ellipsis.dev?ref=sheepdestroyer%2Fmaterialistic&utm_source=github&utm_medium=referral)<sup> by changing your [verbosity settings](https://app.ellipsis.dev/sheepdestroyer/settings/code-review), reacting with :+1: or :-1:, [replying to comments](https://docs.ellipsis.dev/features/code-review#teaching-ellipsis), or adding [code review rules](https://app.ellipsis.dev/sheepdestroyer/code-review/rules).</sup>","submittedAt":"2026-01-04T02:38:56Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}},{"id":"PRR_kwDOQBDOvc7YC5ft","author":{"login":"ellipsis-dev"},"authorAssociation":"NONE","body":"> [!IMPORTANT]\n> **Looks good to me!  :+1:**\n> <details>\n> <summary>Reviewed everything up to 7d17ff0e999d811695314a8b9a55eb4a7b489f09 in <ellipsistime>1 minute and 22 seconds</ellipsistime>. Click for details.</summary> \n> \n> - Reviewed `879` lines of code in `16` files\n> - Skipped `1` files when reviewing.\n> - Skipped posting `15` draft comments. View those below.\n> - Modify your [settings](https://app.ellipsis.dev/sheepdestroyer/settings/code-review) and [rules](https://app.ellipsis.dev/sheepdestroyer/code-review/rules) to customize what types of comments Ellipsis leaves. And don't forget to react with :+1: or :-1: to teach Ellipsis.\n> \n> <details>\n> <summary>1. <code>app/build.gradle:88</code></summary>\n> \n> - **Draft comment:** \n> Dependencies updated for RxJava 3 look correct. Consider using a consistent quoting style (single vs double) throughout the file.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `30%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>2. <code>app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java:52</code></summary>\n> \n> - **Draft comment:** \n> Using 'onErrorReturn(throwable -> null)' suppresses errors. Consider logging or handling the error for better debuggability.\n> - **Reason this comment was not posted:**\n> Comment was not on a location in the diff, so it can't be submitted as a review comment.\n> \n> \n> </details>\n> \n> <details>\n> <summary>3. <code>app/src/main/java/io/github/hidroh/materialistic/DataModule.java:62</code></summary>\n> \n> - **Draft comment:** \n> Method annotation formatting changed to multiple lines; ensure consistent style across modules.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `20%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>4. <code>app/src/main/java/io/github/hidroh/materialistic/MaterialisticApplication.java:52</code></summary>\n> \n> - **Draft comment:** \n> Initialization of AdBlocker with Schedulers.io() is appropriate; no issues detected.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>5. <code>app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java:43</code></summary>\n> \n> - **Draft comment:** \n> Using Observable.fromCallable to load stories is correct; consider adding explicit error handling if exceptions occur.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `40%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>6. <code>app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java:184</code></summary>\n> \n> - **Draft comment:** \n> Submission flow using chained flatMaps looks proper. Consider providing more contextual error messages instead of generic IOExceptions.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `40%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>7. <code>app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaClient.java:116</code></summary>\n> \n> - **Draft comment:** \n> Ensure that the arithmetic in 'MIN_CREATED_AT + toTimestamp(filter) / 1000' applies division before concatenation. Parentheses may improve clarity.\n> - **Reason this comment was not posted:**\n> Comment was not on a location in the diff, so it can't be submitted as a review comment.\n> \n> \n> </details>\n> \n> <details>\n> <summary>8. <code>app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaPopularClient.java:70</code></summary>\n> \n> - **Draft comment:** \n> AlgoliaPopularClient correctly overrides search methods. DateUtils usage appears correct.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>9. <code>app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt:212</code></summary>\n> \n> - **Draft comment:** \n> Usage of 'Observable.fromIterable(itemIds!!)' is acceptable given the prior orEmpty() check; ensure that this forced non-null is safe in all cases.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `30%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>10. <code>app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java:239</code></summary>\n> \n> - **Draft comment:** \n> Returning an empty array instead of null when 'ids' is null improves null-safety.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>11. <code>app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java:138</code></summary>\n> \n> - **Draft comment:** \n> Migration to emitter.onNext/onComplete is handled correctly with an AtomicBoolean guard. Consider verifying that all error cases are covered.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `20%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>12. <code>app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java:110</code></summary>\n> \n> - **Draft comment:** \n> Using RxJava3CallAdapterFactory with Schedulers.io() is correct. No issues detected here.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>13. <code>app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt:42</code></summary>\n> \n> - **Draft comment:** \n> SessionManager's use of Observable.just for checking viewed state is simple and effective.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>14. <code>app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt:45</code></summary>\n> \n> - **Draft comment:** \n> Cache implementation correctly checks for null itemId and updates live value. The usage of observeOn(mainScheduler) is appropriate.\n> - **Reason this comment was not posted:**\n> Confidence changes required: `0%` <= threshold `50%` None\n> \n> \n> </details>\n> \n> <details>\n> <summary>15. <code>app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaClient.java:37</code></summary>\n> \n> - **Draft comment:** \n> Typo in the Javadoc comment: Consider adding a space between 'for' and 'HN' (i.e., 'for HN Search')\n> - **Reason this comment was not posted:**\n> Comment was on unchanged code.\n> \n> \n> </details>\n> \n> \n> Workflow ID: <workflowid>`wflow_FdHhqAYGdenc3i6D`</workflowid>\n> </details>\n> \n> <sup>You can customize </sup>[<img alt=\"Ellipsis\" src=\"https://img.shields.io/badge/Ellipsis-blue?color=175173\">](https://www.ellipsis.dev?ref=sheepdestroyer%2Fmaterialistic&utm_source=github&utm_medium=referral)<sup> by changing your [verbosity settings](https://app.ellipsis.dev/sheepdestroyer/settings/code-review), reacting with :+1: or :-1:, [replying to comments](https://docs.ellipsis.dev/features/code-review#teaching-ellipsis), or adding [code review rules](https://app.ellipsis.dev/sheepdestroyer/code-review/rules).</sup>","submittedAt":"2026-01-04T02:39:16Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}},{"id":"PRR_kwDOQBDOvc7YC5ic","author":{"login":"gemini-code-assist"},"authorAssociation":"NONE","body":"## Code Review\n\nThis pull request does a good job of migrating the codebase from RxJava 1.x to 3.x. The dependency updates, import changes, and most API adjustments are handled correctly. I particularly appreciate the attention to null-safety in the Kotlin files. However, I've found a couple of critical issues in `ReadabilityClient.java` where `null` values are still being passed into the RxJava stream, which is disallowed in RxJava 3 and will lead to runtime crashes. These issues need to be addressed to ensure the migration is complete and stable.","submittedAt":"2026-01-04T02:40:08Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}},{"id":"PRR_kwDOQBDOvc7YC5kB","author":{"login":"coderabbitai"},"authorAssociation":"NONE","body":"**Actionable comments posted: 3**\n\n> [!CAUTION]\n> Some comments are outside the diff and can‚Äôt be posted inline due to platform limitations.\n> \n> \n> \n> <details>\n> <summary>‚ö†Ô∏è Outside diff range comments (1)</summary><blockquote>\n> \n> <details>\n> <summary>app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java (1)</summary><blockquote>\n> \n> `204-206`: **`Observable.just(null)` will throw in RxJava 3.**\n> \n> If `mCache.getReadability(itemId)` returns `null`, `Observable.just(null)` will throw `NullPointerException` before the `flatMap` null-check at line 118 is reached.\n> \n> \n> <details>\n> <summary>üîé Proposed fix</summary>\n> \n> ```diff\n>      private Observable<String> fromCache(String itemId) {\n> -        return Observable.just(mCache.getReadability(itemId));\n> +        String cached = mCache.getReadability(itemId);\n> +        return cached != null ? Observable.just(cached) : Observable.empty();\n>      }\n> ```\n> \n> Then update line 118 to use `switchIfEmpty` instead of `flatMap` with null check:\n> \n> ```diff\n>          Observable.defer(() -> fromCache(itemId))\n>                  .subscribeOn(mIoScheduler)\n> -                .flatMap(content -> content != null ? Observable.just(content) : fromNetwork(itemId, url))\n> +                .switchIfEmpty(fromNetwork(itemId, url))\n>                  .observeOn(mMainThreadScheduler)\n> ```\n> </details>\n> \n> </blockquote></details>\n> \n> </blockquote></details>\n\n<details>\n<summary>üßπ Nitpick comments (5)</summary><blockquote>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java (1)</summary><blockquote>\n\n`84-88`: **RxJava 3 reactive chain looks correct.**\n\nThe migration properly uses RxJava 3 operators (`map`, `onErrorReturn`, `observeOn`), and the error handling converts all errors to `false` before reaching the subscriber, which is safe.\n\nOptionally, consider returning the `Disposable` from `subscribe()` and disposing it when the containing component is destroyed to prevent potential memory leaks, though for quick fire-and-forget operations this is often acceptable.\n\n\n\n\n<details>\n<summary>Optional: Return and manage the Disposable</summary>\n\nIf stricter lifecycle management is desired:\n\n```diff\n-        mFeedbackService.createGithubIssue(new Issue(title, body))\n+        Disposable disposable = mFeedbackService.createGithubIssue(new Issue(title, body))\n                 .map(response -> true)\n                 .onErrorReturn(throwable -> false)\n                 .observeOn(mMainThreadScheduler)\n                 .subscribe(callback::onSent);\n+        // Store disposable and call disposable.dispose() when component is destroyed\n```\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java (2)</summary><blockquote>\n\n`43-46`: **Add error handling to prevent undeliverable exceptions.**\n\nIn RxJava 3, unhandled errors in `subscribe()` are routed to `RxJavaPlugins.onError()`, which throws by default and can crash the app. Consider adding an error consumer or verify that a global error handler is configured.\n\n\n<details>\n<summary>üîé Proposed fix</summary>\n\n```diff\n         Observable.fromCallable(() -> mItemManager.getStories(filter, cacheMode))\n                 .subscribeOn(mIoThreadScheduler)\n                 .observeOn(AndroidSchedulers.mainThread())\n-                .subscribe(items -> setItems(items));\n+                .subscribe(items -> setItems(items),\n+                        throwable -> { /* log or handle error */ });\n```\n</details>\n\n---\n\n`61-64`: **Same issue: missing error handler in `refreshStories`.**\n\nApply the same error handling pattern here as recommended for `getStories`.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt (2)</summary><blockquote>\n\n`150-154`: **Consider adding error handler to subscribe.**\n\nWhile `onErrorReturn` handles upstream errors, the `subscribe` call lacks an explicit error handler. In RxJava 3, unhandled errors are routed to `RxJavaPlugins.onError()`. Consider adding a local error handler to log failures or notify the user when export fails unexpectedly.\n\n\n\n<details>\n<summary>üîé Proposed improvement</summary>\n\n```diff\n .observeOn(AndroidSchedulers.mainThread())\n-.subscribe { notifyExportDone(appContext, it.firstOrNull()) }\n+.subscribe(\n+  { notifyExportDone(appContext, it.firstOrNull()) },\n+  { android.util.Log.e(\"FavoriteManager\", \"Export subscription failed\", it) }\n+)\n```\n\n</details>\n\n---\n\n`212-212`: **Consider avoiding force unwrap operator.**\n\nWhile the null check on Line 211 protects this, the `!!` operator is generally not idiomatic when safer alternatives exist. You could use `itemIds.orEmpty()` to avoid the force unwrap.\n\n\n\n<details>\n<summary>üîé Alternative without force unwrap</summary>\n\n```diff\n-Observable.defer { Observable.fromIterable(itemIds!!) }\n+Observable.defer { Observable.fromIterable(itemIds.orEmpty()) }\n```\n\nNote: You can also simplify Line 211 to just check `itemIds` directly since `orEmpty()` in the defer block handles the null case.\n\n</details>\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>üìú Review details</summary>\n\n**Configuration used**: defaults\n\n**Review profile**: CHILL\n\n**Plan**: Pro\n\n<details>\n<summary>üì• Commits</summary>\n\nReviewing files that changed from the base of the PR and between e5ecb3c333430da9c669c8fe75ea4608d625f79e and 7d17ff0e999d811695314a8b9a55eb4a7b489f09.\n\n</details>\n\n<details>\n<summary>üìí Files selected for processing (17)</summary>\n\n* `.gitignore`\n* `app/build.gradle`\n* `app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java`\n* `app/src/main/java/io/github/hidroh/materialistic/DataModule.java`\n* `app/src/main/java/io/github/hidroh/materialistic/ListFragment.java`\n* `app/src/main/java/io/github/hidroh/materialistic/MaterialisticApplication.java`\n* `app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java`\n* `app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaPopularClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt`\n* `app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java`\n* `app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt`\n* `app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt`\n\n</details>\n\n<details>\n<summary>üß∞ Additional context used</summary>\n\n<details>\n<summary>üìì Path-based instructions (2)</summary>\n\n<details>\n<summary>**/*.gradle{,.kts}</summary>\n\n\n**üìÑ CodeRabbit inference engine (AGENTS.md)**\n\n> Java Development Kit (JDK) version must be Java 21 for this project\n\nFiles:\n- `app/build.gradle`\n\n</details>\n<details>\n<summary>**/build.gradle{,.kts}</summary>\n\n\n**üìÑ CodeRabbit inference engine (AGENTS.md)**\n\n> `**/build.gradle{,.kts}`: Set compileSdk to 33 in Android build configuration\n> Set targetSdk to 33 in Android build configuration\n> Set minSdk to 21 in Android build configuration\n> Use Android Gradle Plugin (AGP) version 8.4.0\n> Use Kotlin version 2.0.0\n> Do not attempt to fix R class not found errors directly; instead look for underlying compilation errors in the build log, particularly in app/build.gradle dependencies configuration\n\nFiles:\n- `app/build.gradle`\n\n</details>\n\n</details><details>\n<summary>üß† Learnings (4)</summary>\n\n<details>\n<summary>üìö Learning: 2026-01-04T01:02:50.526Z</summary>\n\n```\nLearnt from: CR\nRepo: sheepdestroyer/materialistic PR: 0\nFile: AGENTS.md:0-0\nTimestamp: 2026-01-04T01:02:50.526Z\nLearning: Applies to **/build.gradle{,.kts} : Do not attempt to fix R class not found errors directly; instead look for underlying compilation errors in the build log, particularly in app/build.gradle dependencies configuration\n```\n\n**Applied to files:**\n- `app/build.gradle`\n\n</details>\n<details>\n<summary>üìö Learning: 2026-01-04T01:02:50.526Z</summary>\n\n```\nLearnt from: CR\nRepo: sheepdestroyer/materialistic PR: 0\nFile: AGENTS.md:0-0\nTimestamp: 2026-01-04T01:02:50.526Z\nLearning: Applies to **/build.gradle{,.kts} : Set targetSdk to 33 in Android build configuration\n```\n\n**Applied to files:**\n- `app/build.gradle`\n\n</details>\n<details>\n<summary>üìö Learning: 2026-01-04T01:02:50.526Z</summary>\n\n```\nLearnt from: CR\nRepo: sheepdestroyer/materialistic PR: 0\nFile: AGENTS.md:0-0\nTimestamp: 2026-01-04T01:02:50.526Z\nLearning: Applies to **/build.gradle{,.kts} : Set compileSdk to 33 in Android build configuration\n```\n\n**Applied to files:**\n- `app/build.gradle`\n\n</details>\n<details>\n<summary>üìö Learning: 2026-01-04T01:02:50.526Z</summary>\n\n```\nLearnt from: CR\nRepo: sheepdestroyer/materialistic PR: 0\nFile: AGENTS.md:0-0\nTimestamp: 2026-01-04T01:02:50.526Z\nLearning: Applies to **/build.gradle{,.kts} : Use Android Gradle Plugin (AGP) version 8.4.0\n```\n\n**Applied to files:**\n- `app/build.gradle`\n\n</details>\n\n</details><details>\n<summary>üß¨ Code graph analysis (3)</summary>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java (1)</summary><blockquote>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/Preferences.java (1)</summary>\n\n* `Observable` (755-802)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java (1)</summary><blockquote>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/AndroidUtils.java (1)</summary>\n\n* `TextUtils` (27-61)\n\n</details>\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/DataModule.java (1)</summary><blockquote>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt (1)</summary>\n\n* `database` (30-55)\n\n</details>\n\n</blockquote></details>\n\n</details><details>\n<summary>ü™õ detekt (1.23.8)</summary>\n\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt</summary>\n\n[warning] 144-144: The caught exception is swallowed. The original exception could be lost.\n\n(detekt.exceptions.SwallowedException)\n\n</details>\n\n</details>\n\n</details>\n\n<details>\n<summary>‚è∞ Context from checks skipped due to timeout of 90000ms. You can increase the timeout in your CodeRabbit configuration to a maximum of 15 minutes (900000ms). (3)</summary>\n\n* GitHub Check: Sourcery review\n* GitHub Check: build\n* GitHub Check: dependency-submission\n\n</details>\n\n<details>\n<summary>üîá Additional comments (24)</summary><blockquote>\n\n<details>\n<summary>.gitignore (1)</summary><blockquote>\n\n`52-53`: **Good security practices for excluding credentials and agent-tool directories.**\n\nThe additions appropriately exclude `.gemini/` and GitHub Actions credential files (`gha-creds-*.json`) from version control. While `.gemini/` overlaps somewhat with the existing `agent-tools/` exclusion (line 27), the explicit entry is reasonable for clarity and specificity.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/FeedbackClient.java (1)</summary><blockquote>\n\n`31-32`: **LGTM! RxJava 3 imports correctly updated.**\n\nThe migration to `io.reactivex.rxjava3.core` package paths is correct for RxJava 3.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/AdBlocker.java (2)</summary><blockquote>\n\n`35-36`: **LGTM!**\n\nThe RxJava 3 import updates are correct and the existing Observable chain (lines 53-56) is fully compatible with RxJava 3 APIs.\n\n---\n\n`39-40`: **Minor javadoc formatting adjustment.**\n\nThe javadoc description has been wrapped across two lines for better formatting.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaPopularClient.java (1)</summary><blockquote>\n\n`31-32`: **LGTM!**\n\nThe RxJava 3 import updates are correct and consistent with the parent class `AlgoliaClient` migration.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/android/Cache.kt (2)</summary><blockquote>\n\n`22-23`: **LGTM!**\n\nThe RxJava 3 import updates are correct.\n\n---\n\n`46-46`: **Excellent null-safety addition for RxJava 3 compatibility!**\n\nThe early return when `itemId` is null is important because RxJava 3 enforces stricter null-safety and doesn't allow null values in streams by default. This prevents potential `NullPointerException` at runtime.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/SessionManager.kt (1)</summary><blockquote>\n\n`21-22`: **LGTM!**\n\nThe RxJava 3 import updates are correct. The existing null-safety checks (lines 44, 56) already align well with RxJava 3's stricter null handling requirements.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/AlgoliaClient.java (1)</summary><blockquote>\n\n`33-34`: **LGTM! Retrofit RxJava 3 adapter is correctly configured.**\n\nThe import updates to RxJava 3 are correct and consistent with the migration. The Retrofit RxJava 3 adapter dependency is present in build.gradle (line 89: `adapter-rxjava3`), and the adapter is properly registered in RestServiceFactory with `RxJava3CallAdapterFactory.createWithScheduler(Schedulers.io())` (lines 110-112).\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/RestServiceFactory.java (1)</summary><blockquote>\n\n`29-31`: **LGTM! RxJava 3 migration implemented correctly.**\n\nThe migration from RxJava2 to RxJava3 is properly executed:\n- Imports updated to `io.reactivex.rxjava3.*` packages\n- `RxJava3CallAdapterFactory.createWithScheduler(Schedulers.io())` correctly configures the adapter\n\n\n\n\nAlso applies to: 111-112\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/accounts/UserServicesClient.java (2)</summary><blockquote>\n\n`39-41`: **LGTM! RxJava 3 imports correctly updated.**\n\nThe imports have been properly migrated to RxJava 3 packages (`io.reactivex.rxjava3.core.*` and `io.reactivex.rxjava3.android.schedulers.*`).\n\n---\n\n`85-86`: **Javadoc and comment formatting improved.**\n\nParameter documentation alignment and flow description formatting enhance readability without affecting functionality.\n\n\n\n\nAlso applies to: 161-165, 175-182\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/ListFragment.java (1)</summary><blockquote>\n\n`48-48`: **LGTM! RxJava 3 Scheduler import correctly updated.**\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/MaterialisticApplication.java (1)</summary><blockquote>\n\n`25-25`: **LGTM! RxJava 3 Schedulers import correctly updated.**\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/StoryListViewModel.java (1)</summary><blockquote>\n\n`10-12`: **LGTM on import migration.**\n\nThe RxJava 3 imports are correctly updated from the previous RxJava version.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/HackerNewsClient.java (3)</summary><blockquote>\n\n`31-32`: **LGTM on import migration.**\n\nRxJava 3 imports are correctly updated.\n\n---\n\n`108-110`: **Correct API adaptation for RxJava 3.**\n\nThe `onErrorResumeNext` signature change from `Observable<T>` to `Function<Throwable, ObservableSource<T>>` is required in RxJava 3. The lambda correctly accepts the throwable parameter even though it's unused.\n\n---\n\n`240-243`: **Good null-safety improvement.**\n\nReturning an empty array instead of `null` aligns with RxJava 3's stricter null-handling semantics and prevents potential `NullPointerException` in downstream operators.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/ReadabilityClient.java (1)</summary><blockquote>\n\n`46-50`: **LGTM on import migration.**\n\nRxJava 3 imports are correctly updated, including `ObservableEmitter` for the create pattern.\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/DataModule.java (2)</summary><blockquote>\n\n`41-43`: **LGTM on import migration.**\n\nRxJava 3 imports are correctly updated for `Scheduler`, `AndroidSchedulers`, and `Schedulers`.\n\n---\n\n`150-155`: **LGTM on scheduler providers.**\n\n`Schedulers.io()` and `AndroidSchedulers.mainThread()` are the correct RxJava 3 equivalents.\n\n\n\nAlso applies to: 162-167\n\n</blockquote></details>\n<details>\n<summary>app/src/main/java/io/github/hidroh/materialistic/data/FavoriteManager.kt (3)</summary><blockquote>\n\n`40-42`: **LGTM: RxJava 3 imports are correct.**\n\nThe import paths have been properly updated to the RxJava 3 package structure (`io.reactivex.rxjava3.*`).\n\n---\n\n`181-181`: **LGTM: Null-safety improvement.**\n\nDefaulting null query to empty string ensures type safety in the RxJava 3 flow.\n\n---\n\n`357-357`: **LGTM: Consistent null-safety pattern.**\n\nThe filter parameter is safely handled with the same pattern used throughout the file.\n\n</blockquote></details>\n\n</blockquote></details>\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit for review status -->","submittedAt":"2026-01-04T02:40:36Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}},{"id":"PRR_kwDOQBDOvc7YC5pl","author":{"login":"gemini-code-assist"},"authorAssociation":"NONE","body":"## Code Review\n\nThis PR does a great job migrating from RxJava 1 to RxJava 3. The changes are mostly correct and cover dependencies, imports, and API usage. However, I've found a critical issue in `ReadabilityClient.java` where `null` values are emitted into the stream, which is disallowed in RxJava 3 and will cause a crash. I've left a specific comment with a suggested fix. Additionally, there's a similar latent issue in `fromCache()` within the same file that should also be addressed to ensure null-safety. Great work on this significant migration!","submittedAt":"2026-01-04T02:42:14Z","includesCreatedEdit":false,"reactionGroups":[],"state":"COMMENTED","commit":{"oid":"7d17ff0e999d811695314a8b9a55eb4a7b489f09"}}]}
